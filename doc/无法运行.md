# 无法运行时的解决方案

## 概述
该文档是基于已经正确链接dll库，打包完成的程序运行时发生的异常和错误而撰写的，如果是编译、链接、打包过程中的异常及错误请查看[编译、链接、打包过程中的异常及错误]()

明确什么情况属于无法运行或者说错误

1. 根据表象及日志来确定错误类型

2. 锁定错误类型，排除其他原因

3. 根据对应解决方案解决错误

4. 如无法解决，请在 [`issue`]() 中提出

### 无法运行的表现

- [] 弹窗报错
- [] 运行中没有反应
- [] 调用函数返回值为 `false`
- [] 调用函数返回值为 `true` 但是结果没有意义或者错误
- [] 调用函数成功，结果有意义，但是调用后会出现其他异常，如导致程序闪退等

#### 无法运行主要分为几个方面

- [ ] 依赖问题 由于dll的依赖库、运行环境等问题，导致dll无法正常加载的
- [ ] 能够正常加载，但是由于运行库版本、DirectX版本、WinRT环境等问题，导致程序无法正常起效的
- [ ] 能够正常起作用，但是由于系统设置、游戏设置等原因导致未能得到有效结果的
- [ ] 以及一切正常，只是由于游戏画面中存在可解析的内容，返回错误信息的
## 无法运行的解决方案

#### 依赖问题

##### 表现
- 错误弹窗显示 `无法加载DLL“xxx.dll”`
- 错误弹窗显示 `无法启动程序“xxx.exe”，因为计算机中丢失 xxx.dll。尝试重新安装程序以解决此问题。`
- 错误弹窗显示 `Microsoft Visual C++ Runtime Library Runtime Error! ...`

##### 尝试以下几个步骤来解决（不分先后）
- [ ] 1. 安装 `VC++ 2015 运行库`，可在 `原神启动器目录` 下找到 `vcredist_x64.exe` ，安装后重启电脑，再次尝试
- [ ] 2. 更新显卡驱动，尝试使用最新的显卡驱动，如果是NIVDA显卡，可以尝试使用 `Studio模式` ，再次尝试
- [ ] 3. 更新系统到win10 1903以上，尝试使用win10 1903以上的系统，再次尝试

### 解决案例
#### 截图为纯黑或者纯白
- [ ] win11 22H，DirectX模式无法追踪，通过将N卡驱动切换至Studio模式解决，在Geforce Experience中将驱动程序首选项切换至Studio模式
![image](https://user-images.githubusercontent.com/47711102/213745626-9e33e895-2ef8-4544-80f1-ad49d109f82b.png)
#### Win22H2下BitBlt黑屏或白屏
- [ ] 如图设置
![H%V3`SCK@H8Q4I$VKR@ 8JH](https://user-images.githubusercontent.com/47711102/215477144-e527bb1c-f15a-4575-9082-d1cb1c8907f5.jpg)



